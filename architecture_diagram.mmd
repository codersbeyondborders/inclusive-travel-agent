graph TB
    %% User Interface Layer
    subgraph UI["ğŸ–¥ï¸ USER INTERFACE LAYER"]
        Frontend["ğŸ“± Frontend App<br/>(React/Vue)<br/>â€¢ User Profiles<br/>â€¢ Chat Interface<br/>â€¢ Onboarding"]
        WebUI["ğŸ› ï¸ ADK Web UI<br/>(Development)<br/>â€¢ Agent Testing<br/>â€¢ Direct Chat<br/>â€¢ State Viewer"]
        API["ğŸš€ Production API<br/>(FastAPI:8080)<br/>â€¢ /users (CRUD)<br/>â€¢ /chat (Context)<br/>â€¢ /health, /docs"]
    end

    %% Core System Layer
    subgraph Core["âš™ï¸ CORE SYSTEM LAYER"]
        UserProfile["ğŸ‘¤ User Profile System<br/>â€¢ Profile CRUD<br/>â€¢ Accessibility Needs<br/>â€¢ Preferences<br/>â€¢ Storage (Firestore)"]
        Context["ğŸ§  Context Service<br/>â€¢ Context Injection<br/>â€¢ Personalized Instructions<br/>â€¢ User Context Retrieval"]
        Session["ğŸ“Š Session Management<br/>â€¢ ADK Sessions<br/>â€¢ State Management<br/>â€¢ Memory Persistence<br/>â€¢ Event Handling"]
    end

    %% Root Agent
    subgraph Root["ğŸ¯ ROOT AGENT (Orchestrator)"]
        RootAgent["ğŸ¤– Comprehensive Accessibility Support<br/>Coordinates all 14 specialized agents"]
    end

    %% Core Travel Agents
    subgraph CoreAgents["âœˆï¸ CORE TRAVEL AGENTS (6)"]
        Inspiration["ğŸŒŸ inspiration_agent<br/>â€¢ Accessible destinations<br/>â€¢ Disability-friendly options"]
        Planning["ğŸ“‹ planning_agent<br/>â€¢ Accessible flights & hotels<br/>â€¢ Seat selection<br/>â€¢ Accessibility features"]
        Booking["ğŸ’³ booking_agent<br/>â€¢ Accessibility accommodations<br/>â€¢ Special requests<br/>â€¢ Payment processing"]
        PreTrip["ğŸ“ pre_trip_agent<br/>â€¢ Travel preparation<br/>â€¢ Documentation<br/>â€¢ Medical clearance"]
        InTrip["ğŸ§­ in_trip_agent<br/>â€¢ Real-time support<br/>â€¢ Barrier navigation<br/>â€¢ Emergency assistance"]
        PostTrip["ğŸ“Š post_trip_agent<br/>â€¢ Feedback collection<br/>â€¢ Experience sharing"]
    end

    %% Accessibility Focused Agents
    subgraph AccessAgents["â™¿ ACCESSIBILITY-FOCUSED AGENTS (4)"]
        AccessResearch["ğŸ” accessibility_research<br/>â€¢ Venue accessibility<br/>â€¢ Disabled reviews<br/>â€¢ Barrier assessment"]
        MobilityPrep["ğŸ¦½ mobility_preparation<br/>â€¢ Equipment preparation<br/>â€¢ Medical documentation<br/>â€¢ Mobility aids"]
        TransitSupport["ğŸšŒ transit_support<br/>â€¢ Airport assistance<br/>â€¢ Priority services<br/>â€¢ Transportation coordination"]
        BarrierNav["ğŸš§ barrier_navigation_agent<br/>â€¢ Real-time barrier solutions<br/>â€¢ Alternative accessible options<br/>â€¢ Emergency accessibility assistance"]
    end

    %% Automation & Notification Agents
    subgraph AutoAgents["ğŸ¤– AUTOMATION & NOTIFICATION AGENTS (4)"]
        Notification["ğŸ“§ notification_agent<br/>â€¢ Email confirmations<br/>â€¢ Travel reminders<br/>â€¢ Emergency alerts"]
        AccessComm["ğŸ“ accessibility_communication<br/>â€¢ Provider notifications<br/>â€¢ Accessibility coordination"]
        WebCheckin["âœ… web_checkin_agent<br/>â€¢ Auto check-in<br/>â€¢ Seat selection<br/>â€¢ Boarding passes"]
        SmartGuard["ğŸ›¡ï¸ smart_guardrails_agent<br/>â€¢ Safety monitoring & compliance<br/>â€¢ Proactive issue prevention<br/>â€¢ Risk assessment & mitigation"]
    end

    %% External Integrations
    subgraph External["ğŸŒ EXTERNAL INTEGRATIONS"]
        AIServices["ğŸ§  AI Services<br/>â€¢ Google AI API (ML Dev)<br/>â€¢ Google Places API<br/>â€¢ Google Search Grounding"]
        AccessAPIs["â™¿ Accessibility APIs<br/>â€¢ Wheelmap.org<br/>â€¢ Airport Accessibility DB<br/>â€¢ AccessibleGO API"]
        CommServices["ğŸ“¡ Communication Services<br/>â€¢ Email (SMTP)<br/>â€¢ SMS (Future)<br/>â€¢ Push Notifications (Future)"]
    end

    %% Email Service
    EmailService["ğŸ“¬ Email Service<br/>â€¢ SMTP Integration<br/>â€¢ Template System<br/>â€¢ Notification Delivery"]

    %% Connections
    UI --> Core
    Core --> Root
    Root --> CoreAgents
    Root --> AccessAgents
    Root --> AutoAgents
    
    UserProfile --> Context
    Context --> RootAgent
    
    CoreAgents --> External
    AccessAgents --> External
    AutoAgents --> EmailService
    AutoAgents --> External
    
    Notification --> EmailService
    AccessComm --> EmailService

    %% Styling
    classDef coreAgent fill:#0ea5e9,stroke:#0284c7,stroke-width:2px,color:#fff
    classDef accessAgent fill:#059669,stroke:#16a34a,stroke-width:2px,color:#fff
    classDef autoAgent fill:#7c3aed,stroke:#8b5cf6,stroke-width:2px,color:#fff
    classDef infrastructure fill:#6b7280,stroke:#374151,stroke-width:2px,color:#fff
    classDef external fill:#ea580c,stroke:#dc2626,stroke-width:2px,color:#fff

    class Inspiration,Planning,Booking,PreTrip,InTrip,PostTrip coreAgent
    class AccessResearch,MobilityPrep,TransitSupport,BarrierNav accessAgent
    class Notification,AccessComm,WebCheckin,SmartGuard autoAgent
    class UserProfile,Context,Session,RootAgent,EmailService infrastructure
    class AIServices,AccessAPIs,CommServices external